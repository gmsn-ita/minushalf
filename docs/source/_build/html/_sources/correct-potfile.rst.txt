************************************************
``minushalf correct-potfile``
************************************************

.. code-block:: console

    $ minushalf correct-potfile --help          
    Usage: minushalf correct-potfile [OPTIONS]

    Generate the occupied atomic potential file used for ab initio calculations.

    Requires:

        VTOTAL.ae: pseudopotential of the atom with all electrons

        VTOTAL_OCC: pseudopotential of the occupied atom

        INP_OCC: Input file for the run-atomic command of the occupied atom

        The command also needs the potential files used by the chosen software:

            VASP: POTCAR (This name can't be changed)

    Generates:

        POTFILEcut${CUT_VALUE} (If amplitude is equal to 1.0)

        POTFILEcut${CUT_VALUE}A${AMPLITUDE_VALUE} (If amplitude is different from 1.0)

    Options:
    --quiet
    -b, --base_potfile_path PATH    Path to the folder containing the potential
                                    file

    -v, --vtotal_path PATH          Path to the pseudopotential file
                                    generated by the atomic program for the atom
                                    with all electrons.  [default: VTOTAL.ae]

    -o, --vtotal_occupied_path PATH
                                    Path to the pseudopotential file
                                    generated by the atomic program for the
                                    occupied atom.  [default: VTOTAL_OCC]

    -s, --software [VASP]           Specifies the software used to make ab initio calculations.
                                    [default: VASP]

    -c, --correction [VALENCE|CONDUCTION]
                                    Indicates whether the correction should be
                                    made in the valence band or the 
                                    conduction band.  [default: VALENCE]

    -C, --cut TEXT                  distance value used to cut the potential
                                    generated artificially by fractional atomic
                                    occupation, it can be passed in two ways:
                                  
                                    unique value : float or integer. Ex: 1.0
                                  
                                    range:  begin(float|integer):pass(float|integer):end(float|integer). Ex: 1.0:0.1:2.0  
                                    [default: 2.0]

    -a, --amplitude FLOAT RANGE     Scaling factor to be used to correct the artificially generated potential.
                                    In the vast majority of cases, the amplitude value is 1.0. However, there are some
                                    special cases where this value needs to be adjusted. Therefore, we recommend that
                                    you do not change this value unless you know exactly what you are doing  [default: 1.0]

    --help                          Show this message and exit.


To consult a case where changing the amplitude value is necessary, check the reference [1]_.

References
****************

.. [1] C. A. Ataide, R. R. Pelá, M. Marques, L. K. Teles, J. Furthmüller, and F. Bechstedt `Phys. Rev. B 95, 045126 – Published 17 January 2017 <https://journals.aps.org/prb/abstract/10.1103/PhysRevB.95.045126>`_.